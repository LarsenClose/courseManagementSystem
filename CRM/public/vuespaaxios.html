<html>

<head>
  <title>A very simple SPA in Vue and Axios made into Spaghetti </title>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
  <div id="Itemlist">
    <button v-on:click="professors_selected=true">Professors</button>
    <button v-on:click="departments_selected=true">Departments</button>
    <button v-on:click="semesters_selected=true">Semesters</button>
    <button v-on:click="courses_selected=true">Courses</button>
    <button v-on:click="students_selected=true">Students</button>
    <button v-on:click="sections_selected=true">Sections</button>
    <ul>
      <span v-if="professors_selected">
        <strong>Professor's </strong>
        <div v-for="professor in professors">
          <li>
            <medium> Name: </medium> {{ professor.name }},
            <medium>Office: </medium> {{ professor.office }}
          </li>
        </div>
      </span>
      <span v-else-if="departments_selected">
        <strong>Departments </strong>
        <div v-for="department in departments">
          <li>{{ department.name }}</li>
        </div>
      </span>
      <span v-else-if="semesters_selected">
        <strong>Semester: </strong>
        <div v-for="semester in semesters">
          <li> {{ semester.semester }}</li>
        </div>
      </span>
      <span v-else-if="courses_selected">
        <strong>Courses: </strong>
        <div v-for="course in courses">
          <li>
            <medium>number: </medium> {{ course.number }},
            <medium>department: </medium>{{ course.department.name }},

            <medium>credit hours: </medium> {{ course.hours }}
     
      <span v-if="course.sections">
        <pre>sections: </pre>
        <pre> <div v-for="section in course.sections"> {{ section.section_number }} </div></pre>
        </li>
  </div>
  </span>
  <span v-else-if="students_selected">
    <strong>Students: </strong>
    <div v-for="student in students">
      <li>
        <medium>Name: </medium>{{ student.name }},
        <medium>Number: </medium> {{ student.number }}
        <span v-if="student.sections">
          <pre>Section(s):</pre>
          <div v-for="section in student.sections">
            <pre>
                    <medium>number:</medium> {{ section.section_number }}
                    <medium>year:</medium> {{ section.year }}
                  </pre>
          </div>
        </span>
      </li>
    </div>
  </span>
  <span v-else-if="sections_selected">
    <strong>Sections: </strong>
    <div v-for="section in sections">
      <li>
        <medium>Number: </medium> {{ section.section_number }}
        <br>
        <weak>Course: </weak> {{ section.course.number }},
        <weak>Professor: </weak> {{ section.professor.name }},
        <weak>Semester: </weak> {{ section.semester.semester }},
        <weak>Year: </weak> {{ section.year }}
        <span v-if="section.students">
          <pre>
            <medium>Students:</medium>
            <div v-for="student in section.students">
              <medium>Name: </medium> {{ student.name }},
              <medium>Number: </medium> {{ student.number }}
            </div>
          </pre>
        </span>
      </li>
    </div>
  </span>
  <span v-else=""></span>
  </ul>
  </div>


  <script type="text/javascript">
    var ItemsVue = new Vue({
      el: "#Itemlist",
      data: {
        professors: [],
        professors_selected: false,
        departments: [],

        departments_selected: false,
        semesters: [],
        semesters_selected: false, 
               courses: [],
        courses_selected: false, 
         students: [],
        students_selected: false,
        sections: [],
        sections_selected: false,





      
        
      },
      mounted: function () {


        axios.get("http://localhost:3000/departments.json").then(response => {
          this.departments = response.data;
        }).catch((error) => { console.log(error); });

        axios.get("http://localhost:3000/semesters.json").then(response => {
          this.semesters = response.data;
        }).catch((error) => { console.log(error); });

        axios.get("http://localhost:3000/courses.json").then(response => {
          this.courses = response.data;
        }).catch((error) => { console.log(error); });

        axios.get("http://localhost:3000/professors.json").then(response => {
          this.professors = response.data;
        }).catch((error) => { console.log(error); });

        axios.get("http://localhost:3000/students.json").then(response => {
          this.students = response.data;
        }).catch((error) => { console.log(error); });

        axios.get("http://localhost:3000/sections.json").then(response => {
          this.sections = response.data;
        }).catch((error) => { console.log(error); });
      }

    });
  </script>

</body>

</html>